# Twitter Post Skill

A Claude Code skill for posting tweets to X.com (Twitter) using Chrome DevTools Protocol automation.

## Features

- **CDP-Based**: Uses Chrome's remote debugging protocol (no API keys needed)
- **Keyboard Shortcut**: Posts using `Cmd+Enter` for maximum reliability
- **Character Validation**: Checks tweet length before posting
- **Session Preservation**: Works with existing Chrome sessions (stays logged in)
- **Error Handling**: Graceful recovery from common issues

## Quick Start

### 1. Start Chrome with Remote Debugging

```bash
# macOS
/Applications/Google\ Chrome.app/Contents/MacOS/Google\ Chrome --remote-debugging-port=9222

# Windows
chrome.exe --remote-debugging-port=9222

# Linux
google-chrome --remote-debugging-port=9222
```

### 2. Log in to X.com

Open Chrome and go to https://x.com, then log in to your account.

### 3. Post a Tweet

```bash
node .claude/skills/twitter-post/scripts/post-tweet.js "Your tweet here!"
```

## Usage with Claude Code

Simply ask Claude to post a tweet:

```
Post this tweet: "Just analyzed OpenClaw's architecture! üîç"
Post to Twitter: "New blog post is live!"
Tweet about my latest project
```

Claude will:
1. Validate the tweet length
2. Check Chrome CDP connection
3. Run the posting script
4. Confirm successful posting

## Examples

```bash
# Simple tweet
node scripts/post-tweet.js "Hello, world!"

# Tweet with link
node scripts/post-tweet.js "Check out my analysis: https://example.com"

# Multi-line tweet
node scripts/post-tweet.js "First line

Second line

Third line"

# Tweet with emoji
node scripts/post-tweet.js "Great news! üéâ Project launched üöÄ"
```

## How It Works

1. **Connects** to Chrome via CDP on port 9222
2. **Navigates** to X.com home page
3. **Opens** compose dialog
4. **Types** tweet character-by-character (triggers validation)
5. **Posts** using keyboard shortcut (`Cmd+Enter`)
6. **Confirms** successful posting

## Character Limit

- Standard tweets: **280 characters**
- The script warns if over limit but doesn't block
- X.com will reject tweets that are too long

Check character count:
```bash
echo -n "Your tweet" | wc -c
```

## Troubleshooting

### Chrome Connection Issues

**Error: "No browser contexts found"**
- Ensure Chrome is running with `--remote-debugging-port=9222`
- Check no other process is using port 9222
- Restart Chrome with the debugging flag

**Error: "Could not connect"**
```bash
# Check if port is open
curl http://localhost:9222/json/version
```

### X.com Issues

**Error: "Could not open compose dialog"**
- Verify you're logged in to X.com
- Refresh the X.com page
- Close any existing compose dialogs manually

**Tweet doesn't appear**
- Check X.com for rate limits
- Verify account isn't suspended
- Try posting manually to test account status

## Advanced Usage

### Custom Delays

Edit `post-tweet.js` to adjust typing speed:
```javascript
await page.keyboard.type(char);
await page.waitForTimeout(5); // Change this value
```

### Different Keyboard Shortcuts

For Windows/Linux, the script auto-detects and uses `Ctrl+Enter`.

### Multiple Chrome Profiles

Use different debugging ports for different profiles:
```bash
chrome --user-data-dir=/path/to/profile --remote-debugging-port=9223
```

Then update the script to use port 9223.

## Security Notes

- Remote debugging gives full control over Chrome
- Only run on trusted networks
- Don't leave remote debugging enabled permanently
- Chrome with debugging enabled is not secure for general browsing

## Dependencies

- `playwright-core`: Chrome DevTools Protocol automation
- Node.js ‚â•14
- Chrome/Chromium browser

Install dependencies:
```bash
npm install playwright-core
```

## Limitations

- Requires Chrome to be running with remote debugging
- User must be logged in to X.com
- Subject to X.com rate limits
- Cannot post media (images/videos) - text only
- Cannot create threads automatically

## See Also

- Main skill documentation: `SKILL.md`
- X.com keyboard shortcuts: https://help.x.com/using-x/keyboard-shortcuts
- Chrome DevTools Protocol: https://chromedevtools.github.io/devtools-protocol/
